<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Backbone EZBindings Examples</title>
    <style type="text/css">
        body{
            padding: 20px 80px;
            font-size: 18px;
            background-color: #efefef;
        }

        .field {
            margin-bottom: 10px;
        }

        .field >  label{
            display: inline-block;
            vertical-align: middle;
            width: 100px;
            text-align: right;
            margin-right: 10px;
        }

        .field >  input,
        .field > select{
            display: inline-block;
            vertical-align: middle;
            width: 200px;
            padding: 5px;
        }

        .field > .enabled{
            width: auto;
        }

    </style>

    <script src="../lib/jquery-1.10.2.min.js"></script>
    <script src="../lib/underscore.js"></script>
    <script src="../lib/backbone.js"></script>
    <script src="../backbone.ezbinding.js"></script>

    <script type="text/javascript">

        $(document).ready(function(){

            var userModel = new Backbone.Model({
                firstName : "Joe",
                lastName : "Smith",
                job : 'Programmer',
                email : "joe.smith@inter.net",
                enabled : true
            });

            var linkCollection = new Backbone.Collection([
                {
                    id : 'google',
                    label : 'Google',
                    url : 'http://google.com'
                },

                {
                    id : 'aristobot',
                    label : 'Aristobot Games',
                    url : 'http://aristobotgames.com'
                },

                {
                    id : 'wikipedia',
                    label : 'Wikipedia',
                    url : 'http://wikipedia.com'
                },

                {
                    id : 'github',
                    label: 'Github',
                    url : 'https://github.com'
                }

            ]);

            var modelView = new Backbone.View({
                el : '#modelView',
                model : userModel,
                dataBindings : {
                    //One way bindings
                    '.full-name' : '{firstName} {lastName}',
                    'a.email' : '{email}',
                    '[href] a.email' : 'mailto:{email}',
                    'span.job' : '{job}',
                    '[visible] #user' : '{enabled}',

                    //Two way bindings
                    '[keyup@value] input.first-name' : '{firstName}',
                    '[keyup@value] input.last-name' : '{lastName}',
                    '[@value] input.email' : '{email}',
                    '[@value] select.job' : '{job}',
                    '[@checked] input.enabled' : '{enabled}'
                }
            }).render();


            var collectionView = new Backbone.View({
                el : '#collectionView',
                collection : linkCollection,
                dataBindings : {
                    //Specific Model Bindings
                    'a.favorite' : '[aristobot]{label}',
                    '[href] a.favorite' : '[aristobot]{url}',

                    //Recursive Model Bindings
                    'ul.links > li' : {
                        '[data-id]' : '{id}',
                        'a.link' : '{label}',
                        '[href] a.link' : '{url}'
                    }
                }
            });

            collectionView.render();
        });




    </script>

</head>

<body>
    <h1>Backbone EZBindings Examples</h1>
    <div id="modelView">

        <h2>Model Binding</h2>

        <p id="user">
            <strong class="full-name"></strong> <br/>
            <span class="job"></span> <br/>
            <a class="email"></a>
        </p>

        <div id="user-edit">

            <div class="field">
                <label>First Name: </label>
                <input class="first-name" type="text"/>
            </div>

            <div class="field">
                <label>Last Name: </label>
                <input class="last-name" type="text"/>
            </div>

            <div class="field">
                <label>Job Title: </label>
                <select class="job">
                    <option value="Programmer">Programmer</option>
                    <option value="Designer">Designer</option>
                    <option value="Manager">Manager</option>
                </select>
            </div>

            <div class="field">
                <label>Email: </label>
                <input class="email" type="text"/>
            </div>

            <div class="field">
                <label>Enabled: </label>
                <input class="enabled" type="checkbox"/>
            </div>
        </div>

    </div>

    <div id="collectionView">

        <h2>Collection Binding</h2>

        <p>
            <strong>Favorite Link:</strong>
            <a class="favorite"></a>
        </p>

        <ul class="links">
            <li><a class="link"></a></li>
            <li><a class="link"></a></li>
            <li><a class="link"></a></li>
            <li><a class="link"></a></li>
        </ul>
    </div>

</body>